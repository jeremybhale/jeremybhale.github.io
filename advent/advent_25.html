<div id="answerOne"></div>
<div id="answerTwo"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
var map = ['cpy a d', 	//d = a
'cpy 7 c',				//c = 7
'cpy 365 b',			//b = 365
'inc d',				//d = a + 1
'dec b',				//b = 364
'jnz b -2',				//d = a + 365, b = 0 
'dec c',				//c = 6
'jnz c -5',				//d = (a + 365) * 7, b = 0, c = 0
'cpy d a',				//a = d
'jnz 0 0',				//
'cpy a b',				//b = a
'cpy 0 a',				//a = 0
'cpy 2 c',				//c = 2
'jnz b 2',				//
'jnz 1 6',				//
'dec b',				//b = b - 1
'dec c',				//c = c - 1
'jnz c -4',				//
'inc a',				//
'jnz 1 -7',
'cpy 2 b',
'jnz c 2',
'jnz 1 4',
'dec b',
'dec c',
'jnz 1 -4',
'jnz 0 0',
'out b',
'jnz a -19',
'jnz 1 -21'];
//tests
//map = ['cpy 2 a', 'tgl a', 'tgl a', 'tgl a', 'cpy 1 a', 'dec a', 'dec a']; //answer: a = 3
//map = ['out b', 'inc b', 'tgl c', 'jnz 1 -3'];

var registers = {a: 0, b: 0, c: 0, d: 0};
var outputs = [];

var answerOne = 0;
var answerTwo = 0;

i = 0;
/*
while(i < map.length){
	var instructions = map[i].split(' ');
	if(instructions[0] == 'cpy' && Number.isInteger(parseInt(instructions[1]))){
		registers[instructions[2]] = parseInt(instructions[1]);
		i++;
	} else if(instructions[0] == 'cpy' && !Number.isInteger(parseInt(instructions[1]))){
		registers[instructions[2]] = registers[instructions[1]];
		i++;
	} else if(instructions[0] == 'inc'){
		registers[instructions[1]]++;
		i++;
	} else if(instructions[0] == 'dec'){
		registers[instructions[1]]--;
		i++;
	} else if(instructions[0] == 'jnz' && (Number.isInteger(instructions[1]) || registers[instructions[1]] != 0)){
		if(Number.isInteger(parseInt(instructions[2]))){
			i += parseInt(instructions[2]);
		} else {
			i += parseInt(registers[instructions[2]]);
		}
	} else if(instructions[0] == 'tgl'){
		if(i + registers[instructions[1]] < map.length && i + registers[instructions[1]] >= 0){
			var newCmd = map[i + registers[instructions[1]]].split(' ');
			if(newCmd.length == 2 && newCmd[0] == 'inc'){
				newCmd[0] = 'dec';
				map[i + registers[instructions[1]]] = newCmd[0] + " " + newCmd[1];
			}else if(newCmd.length == 2){
				newCmd[0] = 'inc';
				map[i + registers[instructions[1]]] = newCmd[0] + " " + newCmd[1];
			}else if(newCmd[0] == 'jnz'){
				newCmd[0] = 'cpy';
				map[i + registers[instructions[1]]] = newCmd[0] + " " + newCmd[1] + " " + newCmd[2];
			}else{
				newCmd[0] = 'jnz';
				map[i + registers[instructions[1]]] = newCmd[0] + " " + newCmd[1] + " " + newCmd[2];
			}
		}
		i++;
	} else if(instructions[0] == 'out'){
		console.log(registers[instructions[1]]);
		if(output.length % 2 == 0 && registers[instructions[1]] == 0){
			output.push(0);
		} else if(registers[instructions[1]] == 1){
			output.push(1);
		} else {
			i = 900;
			console.log("no");
		}
		
		if(output.length > 100){
			i = 900;
			console.log("yes");
		}
		
		i++;
	} else {
		i++;
	}
}
*/

for(x = 0; x < 500; x++){
	i = 0, a = 0, b = 0, c = 0, d = 0;
	outputs = [];
	d = x + 2555;
	while(i == 0){
		a = d;
		while(a != 0){
			c = 2 - (a % 2);
			a = Math.floor(a / 2);
			b = 2 - c;
			outputs.push(b);
			if(b > 1 || b < 0 || outputs[outputs.length - 1] == outputs[outputs.length - 2] || outputs[0] == 1 || outputs.length > 1000){
				i = 1;
				console.log(x);
				console.log(outputs);
				a = 0;
			}
		}
	}
}

console.log(outputs);

console.log("values: " + a + ", " + b + ", " + c + ", " + d);

answerOne = i;

$("#answerOne").text(answerOne);
$("#answerTwo").html(answerTwo);
</script>