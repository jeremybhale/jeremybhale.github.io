<style>
	*{
		font-family:courier;
		background:#000;
	}
	
	#maze{
		padding:auto;
	}
	
	#answerOne{
		width:30em;
		display:inline-block;
		margin:auto;
	}
	
	#win,
	#load,
	#fw1,
	#fw2,
	#fw3{
		display:none;
		color:#fff;
		text-align:center;
		width:30em;
	}
	
	#fw1,
	#fw2,
	#fw3{
		color:red;
	}
	
	#load{
		display:inline-block;
	}
	
	.space{
		cursor: pointer;
		background: #fff;
	}
	
	.end{
		background:#f00;
	}
	
	.wall{
		background: #000;
	}
	
	.current{
		background:green;
	}
</style>

<div id="answerOne"></div>
<div id="load">
<pre>
█    █   █  ██  █ ██  █  ██ 
█   █ █ █ █ █ █ █ █ █ █ █   
█   █ █ ███ █ █ █ █ █ █ █ ██
███  █  █ █ ██  █ █  ██  ██ 
</pre>
</div>
<div id="fw1">
<pre>


    █    


</pre>
</div>
<div id="fw2">
<pre>

  █ █ █  
   █ █   
  █ █ █  

</pre>
</div>
<div id="fw3">
<pre>
 █  █  █ 
  █ █ █  
█  █ █  █
  █ █ █  
 █  █  █ 
</pre>
</div>
<div id="win">
<pre>
█   █ █ ██  █
█ █ █ █ █ █ █
█ █ █ █ █ █ █
 █ █  █ █  ██
</pre>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
var map = Math.floor((Math.random() * 1000) + 1);
var maps = [31,179,523,650,662,755,757,763,1174,1344,1350,1352,1358,1362,1364,1491,1493,1618,1620,1792,2011,2013,2059,2167,2171,2173,2368,2422,2426,2428,2570,2827,3082,3203,3205,3211,3223,3316,3322,3393,3399,3401,3451,3453,3457,3574,3578,3580,3595,3643,3734,4058,4060,4110,4114,4126,4339,4341,4347,4599,4603,4605,4623,4627,4629,4666,4852,4858,5079,5248,5646,5650,5652,5703,5705,5711,5715,5782,5786,6159,6163,6175,6646,6650,6652,6670,6715,6901,6907,7126,7297,7695,7758,7804,7808,7831,7835,7837,7859,7950,8032,8222,8370,8714,8843,8855,8946,8948,8954,9367,9537,9543,9545,9551,9555,9557,9682,9684,9811,9813,9985,10202,10204,10250,10358,10362,10364,10561,10615,10619,10621,10763,11018,11275,11394,11396,11515,11584,11590,11592,11638,11642,11644,11786,11907,11909,11915,11927,11934,12043,12247,12251,12319,12467,12811,12938,12950,13043,13045,13051,13462,13632,13638,13640,13646,13650,13652,13779,13781,13906,13908,14080,14299,14301,14347,14455,14459,14461,14656,14710,14714,14716,14858,15115,15370,15491,15493,15610,15681,15687,15689,15735,15739,15741,15883,16002,16004,16010,16022,16031,16138,16342,16346,16414,16562,16906,17035,17047,17138,17140,17146,17559,17729,17735,17737,17743,17747,17749,17874,17876,18003,18005,18177,18394,18396,18442,18550,18554,18556,18753,18807,18811,18813,18955,19210,19467,19586,19588,19594,19606,19701,19707,19776,19782,19784,19834,19836,19840,19959,19963,19965,19978,20026,20119,20443,20445,20495,20499,20511,20722,20724,20730,20982,20986,20988,21006,21010,21012,21051,21237,21243,21462,21633,22031,22035,22037,22086,22088,22094,22098,22167,22171,22542,22546,22558,23031,23035,23037,23055,23098,23284,23290,23511,23680,24078,24143,24189,24193,24214,24218,24220,24242,24335,24417,24607,24755,25099,25226,25238,25331,25333,25339,25750,25920,25926,25928,25934,25938,25940,26067,26069,26194,26196,26368,26587,26589,26635,26743,26747,26749,26944,26998,27002,27004,27146,27403,27658,27779,27781,27787,27799,27892,27898,27969,27975,27977,28027,28029,28033,28150,28154,28156,28171,28219,28310,28634,28636,28686,28690,28702,28915,28917,28923,29175,29179,29181,29199,29203,29205,29242,29428,29434,29655,29824,30222,30226,30228,30279,30281,30287,30291,30358,30362,30735,30739,30751,31222,31226,31228,31246,31291,31477,31483,31702,31873,32271,32334,32380,32384,32407,32411,32413,32435,32526,32608,32798,32946,33290,33419,33431,33522,33524,33530,33943,34113,34119,34121,34127,34131,34133,34258,34260,34387,34389,34561,34778,34780,34826,34934,34938,34940,35137,35191,35195,35197,35339,35594,35851,35970,35972,35978,35990,36085,36091,36160,36166,36168,36218,36220,36224,36343,36347,36349,36362,36410,36503,36827,36829,36879,36883,36895,37106,37108,37114,37366,37370,37372,37390,37394,37396,37435,37621,37627,37846,38017,38415,38419,38421,38470,38472,38478,38482,38551,38555,38926,38930,38942,39415,39419,39421,39439,39482,39668,39674,39895,40064,40462,40527,40573,40577,40598,40602,40604,40626,40719,40801,40991,41139,41483,41610,41622,41715,41717,41723,42134,42304,42310,42312,42318,42322,42324,42451,42453,42578,42580,42752,42971,42973,43019,43127,43131,43133,43328,43382,43386,43388,43530,43787,44042,44163,44165,44282,44353,44359,44361,44407,44411,44413,44555,44674,44676,44682,44694,44703,44810,45014,45018,45086,45234,45578,45707,45719,45810,45812,45818,46231,46401,46407,46409,46415,46419,46421,46546,46548,46675,46677,46849,47066,47068,47114,47222,47226,47228,47425,47479,47483,47485,47627,47882,48139,48258,48260,48379,48448,48454,48456,48502,48506,48508,48650,48771,48773,48779,48791,48798,48907,49111,49115,49183,49331,49675,49802,49814,49907,49909,49915,50326,50496,50502,50504,50510,50514,50516,50643,50645,50770,50772,50944,51163,51165,51211,51319,51323,51325,51520,51574,51578,51580,51722,51979,52234,52355,52357,52363,52375,52468,52474,52545,52551,52553,52603,52605,52609,52726,52730,52732,52747,52795,52886,53210,53212,53262,53266,53278,53491,53493,53499,53751,53755,53757,53775,53779,53781,53818,54004,54010,54231,54400,54798,54802,54804,54855,54857,54863,54867,54934,54938,55311,55315,55327,55798,55802,55804,55822,55867,56053,56059,56278,56449,56847,56910,56956,56960,56983,56987,56989,57011,57102,57184,57374,57522,57866,57995,58007,58098,58100,58106,58519,58689,58695,58697,58703,58707,58709,58834,58836,58963,58965,59137,59354,59356,59402,59510,59514,59516,59713,59767,59771,59773,59915,60170,60427,60546,60548,60667,60736,60742,60744,60790,60794,60796,60938,61059,61061,61067,61079,61086,61195,61399,61403,61471,61619,61963,62090,62102,62195,62197,62203,62614,62784,62790,62792,62798,62802,62804,62931,62933,63058,63060,63232,63451,63453,63499,63607,63611,63613,63808,63862,63866,63868,64010,64267,64522,64643,64645,64762,64833,64839,64841,64887,64891,64893,65035,65154,65156,65162,65174,65183,65290,65494,65498,65566,65714,66058,66187,66199,66290,66292,66298,66711,66881,66887,66889,66895,66899,66901,67026,67028,67155,67157,67329,67546,67548,67594,67702,67706,67708,67905,67959,67963,67965,68107,68362,68619,68738,68740,68746,68758,68853,68859,68928,68934,68936,68986,68988,68992,69111,69115,69117,69130,69178,69271,69595,69597,69647,69651,69663,69874,69876,69882,70134,70138,70140,70158,70162,70164,70203,70389,70395,70614,70785,71183,71187,71189,71238,71240,71246,71250,71319,71323,71694,71698,71710,72183,72187,72189,72207,72250,72436,72442,72663,72832,73230,73295,73341,73345,73366,73370,73372,73394,73487,73569,73759,73907,74251,74378,74390,74483,74485,74491,74902,75072,75078,75080,75086,75090,75092,75219,75221,75346,75348,75520,75739,75741,75787,75895,75899,75901,76096,76150,76154,76156,76298,76555,76810,76931,76933,77050,77121,77127,77129,77175,77179,77181,77323,77442,77444,77450,77462,77471,77578,77782,77786,77854,78002,78346,78475,78487,78578,78580,78586,78999,79169,79175,79177,79183,79187,79189,79314,79316,79443,79445,79617,79834,79836,79882,79990,79994,79996,80193,80247,80251,80253,80395,80650,80907,81026,81028,81147,81216];

var leftKey = 37, upKey = 38, rightKey = 39, downKey = 40;
var posX = 1, posY = 1;

function newMaze(){
	var answerOne = '';
	for(var y = 0; y < 50; y++){
		answerOne += "<div>";
		for(var x = 0; x < 50; x++){
			var temp = x*x + 3*x + 2*x*y + y + y*y;
			temp += maps[map];
			temp = temp.toString(2);
			var ones = 0;
			for (var i = 0; i < temp.length; i++) {
				if(temp[i] == "1"){
					ones++;
				}
			}
			if(ones % 2 == 0){
				answerOne += "<span class='ex"+x+" why"+y+" space'>&nbsp;</span>";
			} else {
				answerOne += "<span class='ex"+x+" why"+y+" wall'>&nbsp;</span>";
			}
		}
		answerOne += "</div>";
	}

	$("#answerOne").html(answerOne);
	$(".ex1.why1").addClass("current");
	$(".ex31.why39").addClass("space end").removeClass("wall");
	posX = 1, posY = 1;
}

newMaze();
console.log(map);
$("#win").hide();
$("#load").hide();
$("#answerOne").show();

$(document).on("keyup", function(e){
	if(e.keyCode == leftKey &&
			posX > 0 &&
			$(".ex"+(posX - 1)+".why"+posY).hasClass("space")){
		$(".ex"+posX+".why"+posY).removeClass("current");
		posX--;
		$(".ex"+posX+".why"+posY).addClass("current");
	} else if(e.keyCode == rightKey &&
			posX < 51 &&
			$(".ex"+(posX + 1)+".why"+posY).hasClass("space")){
		$(".ex"+posX+".why"+posY).removeClass("current");
		posX++;
		$(".ex"+posX+".why"+posY).addClass("current");
	} else if(e.keyCode == upKey &&
			posY > 0 &&
			$(".ex"+posX+".why"+(posY - 1)).hasClass("space")){
		$(".ex"+posX+".why"+posY).removeClass("current");
		posY--;
		$(".ex"+posX+".why"+posY).addClass("current");
	} else if(e.keyCode == downKey &&
			posY < 51 &&
			$(".ex"+posX+".why"+(posY + 1)).hasClass("space")){
		$(".ex"+posX+".why"+posY).removeClass("current");
		posY++;
		$(".ex"+posX+".why"+posY).addClass("current");
	}
	
	if($(".ex"+posX+".why"+posY).hasClass("end")){
		$("#answerOne").hide();
		$("#win").show().delay(500).fadeOut(1).delay(500).fadeIn(1).delay(500).fadeOut(1).delay(500).fadeIn(1).delay(500).fadeOut(1);
		$("#fw1").show().delay(500).fadeOut(1, function(){
			$("#fw2").show().delay(500).fadeOut(1, function(){
				$("#fw3").show().delay(500).fadeOut(1, function(){
					$("#fw1").show().delay(500).fadeOut(1, function(){
						$("#fw2").show().delay(500).fadeOut(1, function(){
							$("#fw3").show().delay(500).fadeOut(1);
						});
					});
				});
			});
		});
		setTimeout(function(){
			$("#win").hide();
			$("#fw1").hide();
			$("#fw2").hide();
			$("#fw3").hide();
			$("#load").show();
			map = Math.floor((Math.random() * 1000) + 1);
			newMaze();
			$("#load").hide();
			$("#answerOne").show();
			console.log(map);
		}, 3300);
	}
});
</script>