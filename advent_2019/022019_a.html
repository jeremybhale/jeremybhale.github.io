<html>
<body>
<script>

	//read number

	//divide by 3
	
	//round down
	
	//subtract 2
	
	//add to total

//else

	//print total

	//close file

</script>

<input type="file" id="files" name="files[]" multiple />
<output id="list"></output>

<script>
function handleFileSelect(e) {
    var files = e.target.files;
	
    for (var i = 0, f; f = files[i]; i++) {	
		var reader = new FileReader();

		reader.onload = (function(theFile) {
			return function(e) {
				//Custom per challenge
				var input = e.target.result.split(",");
				
				//Part A
				input[1] = 12;
				input[2] = 2;
				
				for (var i = 0; i < input.length - 1; i = i + 4) {
					if(input[i] == 99)
						break;
						
					if (input.length < i + 2) {
						while (input.length < i + 2)
							input.push("");
					}

					input[input[i+3]] = parseInput(input, input[i], input[i+1], input[i+2]);
				}
				
				//Answer
				console.log(input[0]);
			};
		})(f);

		reader.readAsText(f);
	}
}

function parseInput(input, o, f, s){
	if (o == 1)
		return parseInt(input[f]) + parseInt(input[s]);
	else if (o == 2) 
		return parseInt(input[f]) * parseInt(input[s]);
		
	return false;
}

document.getElementById('files').addEventListener('change', handleFileSelect, false);

</script>
</body>
</html>