<html>
<body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>

var input = {0: 3, 1: 2, 2: 4, 4: 4, 6: 5, 8: 6, 10: 8, 12: 8, 14: 6, 16: 6, 18: 8, 20: 8, 22: 6, 24: 12, 26: 9, 28: 12, 30: 8, 32: 14, 34: 12, 36: 8, 38: 14, 40: 12, 42: 12, 44: 12, 46: 14, 48: 12, 50: 14, 52: 12, 54: 10, 56: 14, 58: 12, 60: 14, 62: 14, 66: 10, 68: 14, 74: 14, 76: 12, 78: 14, 80: 20, 86: 18, 92: 14, 94: 20, 96: 18, 98: 17};

/* test */
//input = {0: 3, 1: 2, 4: 4, 6: 4};

function getPos(end, i) {
	var pos = 0;
	for(x = 1; x <= end; x++){
		if(pos == 0) dir = 1;
		if(pos == input[i]-1) dir = -1;
		pos += dir;
	}
	
	return pos;
}

var answer = -1;
var iter = 0;

while(answer == -1) {
	var sev = 0;
	for(var i = 0; i < 99; i++){
		if(i in input) {
			var dir = 1;
			var pos = getPos(iter, i);
			//console.log("pos: " + pos);
			for(x = 1; x <= i; x++){
				if(pos == 0) dir = 1;
				if(pos == input[i]-1) dir = -1;
				pos += dir;
			}
		
			if(pos == 0){
				sev = 1;
				iter++;
				break;
			}
		}
	}

	//console.log("sev: " + sev);
	if(sev == 0) answer = iter;
}

console.log("answer: " + answer);

</script>
</body>
</html>